LIGGGHTS (Version LIGGGHTS-PUBLIC 3.8.0, compiled 2023-07-08-18:25:31 by anmol, git commit unknown)
### Angle of repose experiment in uniform magnetic field


### Initialization
# Preliminaries
units           si
atom_style      hybrid granular dipole
atom_modify     sort 10000 0

# periodic x boundaries, fixed y boundaries, fixed -z for floor and fixed shrink wrap for cieling
boundary        f f f

#LIGGGHTS-Public shouuld produce the same answers for any newton flag setting, besides round off
newton          off
soft_particles yes
communicate     single vel yes

# the product of the processors must equal P, the number of processors used when running the file: mpirun -np 4 ...
processors      2 2 2

# Declare domain
region          domain block 0 .126 0 .018 0 .177 units box
create_box      2 domain
Created orthogonal box = (0 0 0) to (0.126 0.018 0.177)
  2 by 2 by 2 MPI processor grid

# Neighbor skin style - atom pairs within a neighbor cutoff distance = force cutoff + skin distance, styele = bin
neighbor        0.003 bin
# neigh_modify delay 0, this is the default, rebuild neighbor list every timestep
neigh_modify    delay 0

### Setup
# Material and interaction properties required
fix             m1 all property/global youngsModulus peratomtype 70e6 70e6
fix             m2 all property/global poissonsRatio peratomtype 0.24 0.24
fix             m3 all property/global coefficientRestitution peratomtypepair 2 0.2 0.2 0.2 0.2
fix             m4 all property/global coefficientFriction peratomtypepair 2 0.6 0.6 0.6 0.6
fix             m5 all property/global coefficientRollingFriction peratomtypepair  2 0.4 0.4 0.4 0.4
fix             m6 all property/global coefficientRollingViscousDamping peratomtypepair  2 0.4 0.4 0.4 0.4
fix             m7 all property/global coeffRollingStiffness scalar 10
fix             m8 all property/global cohesionEnergyDensity peratomtypepair 2 10 10 10 10

fix             m9 all property/global magneticSusceptibility peratomtype 1 1

## box walls - define simulation

fix		        wall_y1 all wall/gran model hertz tangential history cohesion sjkr rolling_friction epsd primitive type 2 yplane 0.0
WARNING: 
	The contact model you specified is not located in any whitelist.
	Because of this the model will be run in an unoptimized version (increasing runtime by up to 20%).
	In order to optimize this model you have the following options:
		(i)  Run the genAutoExamplesWhitelist.sh script in your LIGGGHTS(R) source folder to automatically parse the input script
		(ii) Add the model combination by hand to your style_contact_model_user.whitelist that can be found in your LIGGGHTS(R) source folder
	If you perform one of the steps above LIGGGHTS(R) needs to be recompiled to generate the optimized code.

 (../contact_models.h:364)
fix		        wall_y2 all wall/gran model hertz tangential history cohesion sjkr rolling_friction epsd primitive type 2 yplane 0.018
WARNING: 
	The contact model you specified is not located in any whitelist.
	Because of this the model will be run in an unoptimized version (increasing runtime by up to 20%).
	In order to optimize this model you have the following options:
		(i)  Run the genAutoExamplesWhitelist.sh script in your LIGGGHTS(R) source folder to automatically parse the input script
		(ii) Add the model combination by hand to your style_contact_model_user.whitelist that can be found in your LIGGGHTS(R) source folder
	If you perform one of the steps above LIGGGHTS(R) needs to be recompiled to generate the optimized code.

 (../contact_models.h:364)
fix		        wall_z1 all wall/gran model hertz tangential history cohesion sjkr rolling_friction epsd primitive type 2 zplane 0.0        #floor
WARNING: 
	The contact model you specified is not located in any whitelist.
	Because of this the model will be run in an unoptimized version (increasing runtime by up to 20%).
	In order to optimize this model you have the following options:
		(i)  Run the genAutoExamplesWhitelist.sh script in your LIGGGHTS(R) source folder to automatically parse the input script
		(ii) Add the model combination by hand to your style_contact_model_user.whitelist that can be found in your LIGGGHTS(R) source folder
	If you perform one of the steps above LIGGGHTS(R) needs to be recompiled to generate the optimized code.

 (../contact_models.h:364)
fix             wall_x1 all wall/gran model hertz tangential history cohesion sjkr rolling_friction epsd primitive type 2 xplane 0.0
WARNING: 
	The contact model you specified is not located in any whitelist.
	Because of this the model will be run in an unoptimized version (increasing runtime by up to 20%).
	In order to optimize this model you have the following options:
		(i)  Run the genAutoExamplesWhitelist.sh script in your LIGGGHTS(R) source folder to automatically parse the input script
		(ii) Add the model combination by hand to your style_contact_model_user.whitelist that can be found in your LIGGGHTS(R) source folder
	If you perform one of the steps above LIGGGHTS(R) needs to be recompiled to generate the optimized code.

 (../contact_models.h:364)
fix             wall_x2 all wall/gran model hertz tangential history cohesion sjkr rolling_friction epsd primitive type 2 xplane 0.126
WARNING: 
	The contact model you specified is not located in any whitelist.
	Because of this the model will be run in an unoptimized version (increasing runtime by up to 20%).
	In order to optimize this model you have the following options:
		(i)  Run the genAutoExamplesWhitelist.sh script in your LIGGGHTS(R) source folder to automatically parse the input script
		(ii) Add the model combination by hand to your style_contact_model_user.whitelist that can be found in your LIGGGHTS(R) source folder
	If you perform one of the steps above LIGGGHTS(R) needs to be recompiled to generate the optimized code.

 (../contact_models.h:364)


# Mesh for incline
fix             cad1 all mesh/surface file meshes/piling_test_incline.STL type 2 scale .0001 move 0.00 0.00 0.167 #rotate axis 1. 0. 0. angle -50.
# fix             cad2 all mesh/surface file meshes/piling_test_incline.STL type 2 scale .0001 move 0.126 0.018 0.167 #rotate axis 0. 1. 0. angle -180.
fix             granwalls all wall/gran model hertz tangential history cohesion sjkr rolling_friction epsd mesh n_meshes 1 meshes cad1 #cad2
WARNING: 
	The contact model you specified is not located in any whitelist.
	Because of this the model will be run in an unoptimized version (increasing runtime by up to 20%).
	In order to optimize this model you have the following options:
		(i)  Run the genAutoExamplesWhitelist.sh script in your LIGGGHTS(R) source folder to automatically parse the input script
		(ii) Add the model combination by hand to your style_contact_model_user.whitelist that can be found in your LIGGGHTS(R) source folder
	If you perform one of the steps above LIGGGHTS(R) needs to be recompiled to generate the optimized code.

 (../contact_models.h:364)

## Pair style
pair_style      gran model hertz tangential history cohesion sjkr rolling_friction epsd torsionTorque on
WARNING: 
	The contact model you specified is not located in any whitelist.
	Because of this the model will be run in an unoptimized version (increasing runtime by up to 20%).
	In order to optimize this model you have the following options:
		(i)  Run the genAutoExamplesWhitelist.sh script in your LIGGGHTS(R) source folder to automatically parse the input script
		(ii) Add the model combination by hand to your style_contact_model_user.whitelist that can be found in your LIGGGHTS(R) source folder
	If you perform one of the steps above LIGGGHTS(R) needs to be recompiled to generate the optimized code.

 (../contact_models.h:364)
pair_coeff	    * *  # the asterisks set force field coeefficients for all atom types, but then no other args? ASK TOM


# Particle insertion
fix             particles all particletemplate/sphere 123457 atom_type 1 density constant 2500                 radius constant 0.0005
fix             pdd1 all particledistribution/discrete 15487517 1 particles 1.0

# region and insertion
group		nve_group region domain
0 atoms in group nve_group

# Create stopper wall
fix             stopper all wall/gran model hertz tangential history primitive type 2 zplane 0.056


### Detailed settings
# apply nve integration to all particles that are inserted as single particles
fix		integr nve_group nve/sphere

# Gravity
fix             grav all gravity 9.81 vector 0.0 0.0 -1.0

# Time step
timestep        .000001 #seconds (1 microsecond)

## Thermo settings
# thermo style custom says what thermo data we want printed at each thermo timestep - timestep, num atoms, kinetic energy, volume
thermo_style 	custom step atoms ke vol
# thermo output every 1000 timesteps
thermo		1000
# LIGGGHTS will ignore last particles and will not normalize against num atoms
thermo_modify	lost ignore norm no

# Check time step and initialize dump file
fix             ctg all check/timestep/gran 1 0.01 0.01
run             1
Setting up run at Mon Jul 24 16:36:36 2023

Memory usage per processor = 9.10091 Mbytes
    Step    Atoms         KinEng         Volume 
       0        0              0    0.000401436 
       1        0              0    0.000401436 
Loop time of 2.27599e-05 on 8 procs for 1 steps with 0 atoms, finish time Mon Jul 24 16:36:36 2023


Pair  time (%) = 3.16125e-07 (1.38896)
Neigh time (%) = 0 (0)
Comm  time (%) = 8.24625e-07 (3.62315)
Outpt time (%) = 3.19638e-06 (14.0439)
Other time (%) = 1.84227e-05 (80.944)

Nlocal:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
Nghost:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0

Total # of neighbors = 0
Neighbor list builds = 0
Dangerous builds = 0
unfix           ctg

# Create imaging information
dump            dmp all custom 100000 post/dump*.post id type x y z vx vy vz radius fx fy fz mass

# STL dump files
dump		    dumpstl1 all mesh/stl 1000 post_stl/dumpcad*.stl

### execution and further settings

# Fill the hopper
run             150000 upto
Setting up run at Mon Jul 24 16:36:36 2023

Memory usage per processor = 9.10091 Mbytes
    Step    Atoms         KinEng         Volume 
       1        0              0    0.000401436 
    1000        0              0    0.000401436 
    2000        0              0    0.000401436 
    3000        0              0    0.000401436 
    4000        0              0    0.000401436 
    5000        0              0    0.000401436 
    6000        0              0    0.000401436 
    7000        0              0    0.000401436 
    8000        0              0    0.000401436 
    9000        0              0    0.000401436 
   10000        0              0    0.000401436 
   11000        0              0    0.000401436 
   12000        0              0    0.000401436 
   13000        0              0    0.000401436 
   14000        0              0    0.000401436 
   15000        0              0    0.000401436 
   16000        0              0    0.000401436 
   17000        0              0    0.000401436 
   18000        0              0    0.000401436 
   19000        0              0    0.000401436 
   20000        0              0    0.000401436 
   21000        0              0    0.000401436 
   22000        0              0    0.000401436 
   23000        0              0    0.000401436 
   24000        0              0    0.000401436 
   25000        0              0    0.000401436 
   26000        0              0    0.000401436 
   27000        0              0    0.000401436 
   28000        0              0    0.000401436 
   29000        0              0    0.000401436 
   30000        0              0    0.000401436 
   31000        0              0    0.000401436 
   32000        0              0    0.000401436 
   33000        0              0    0.000401436 
   34000        0              0    0.000401436 
   35000        0              0    0.000401436 
   36000        0              0    0.000401436 
   37000        0              0    0.000401436 
   38000        0              0    0.000401436 
   39000        0              0    0.000401436 
   40000        0              0    0.000401436 
   41000        0              0    0.000401436 
   42000        0              0    0.000401436 
   43000        0              0    0.000401436 
   44000        0              0    0.000401436 
   45000        0              0    0.000401436 
   46000        0              0    0.000401436 
   47000        0              0    0.000401436 
   48000        0              0    0.000401436 
   49000        0              0    0.000401436 
   50000        0              0    0.000401436 
   51000        0              0    0.000401436 
   52000        0              0    0.000401436 
   53000        0              0    0.000401436 
   54000        0              0    0.000401436 
   55000        0              0    0.000401436 
   56000        0              0    0.000401436 
   57000        0              0    0.000401436 
   58000        0              0    0.000401436 
   59000        0              0    0.000401436 
   60000        0              0    0.000401436 
   61000        0              0    0.000401436 
   62000        0              0    0.000401436 
   63000        0              0    0.000401436 
   64000        0              0    0.000401436 
   65000        0              0    0.000401436 
   66000        0              0    0.000401436 
   67000        0              0    0.000401436 
   68000        0              0    0.000401436 
   69000        0              0    0.000401436 
   70000        0              0    0.000401436 
   71000        0              0    0.000401436 
   72000        0              0    0.000401436 
   73000        0              0    0.000401436 
   74000        0              0    0.000401436 
   75000        0              0    0.000401436 
   76000        0              0    0.000401436 
   77000        0              0    0.000401436 
   78000        0              0    0.000401436 
   79000        0              0    0.000401436 
   80000        0              0    0.000401436 
   81000        0              0    0.000401436 
   82000        0              0    0.000401436 
   83000        0              0    0.000401436 
   84000        0              0    0.000401436 
   85000        0              0    0.000401436 
   86000        0              0    0.000401436 
   87000        0              0    0.000401436 
   88000        0              0    0.000401436 
   89000        0              0    0.000401436 
   90000        0              0    0.000401436 
   91000        0              0    0.000401436 
   92000        0              0    0.000401436 
   93000        0              0    0.000401436 
   94000        0              0    0.000401436 
   95000        0              0    0.000401436 
   96000        0              0    0.000401436 
   97000        0              0    0.000401436 
   98000        0              0    0.000401436 
   99000        0              0    0.000401436 
  100000        0              0    0.000401436 
  101000        0              0    0.000401436 
  102000        0              0    0.000401436 
  103000        0              0    0.000401436 
  104000        0              0    0.000401436 
  105000        0              0    0.000401436 
  106000        0              0    0.000401436 
  107000        0              0    0.000401436 
  108000        0              0    0.000401436 
  109000        0              0    0.000401436 
  110000        0              0    0.000401436 
  111000        0              0    0.000401436 
  112000        0              0    0.000401436 
  113000        0              0    0.000401436 
  114000        0              0    0.000401436 
  115000        0              0    0.000401436 
  116000        0              0    0.000401436 
  117000        0              0    0.000401436 
  118000        0              0    0.000401436 
  119000        0              0    0.000401436 
  120000        0              0    0.000401436 
  121000        0              0    0.000401436 
  122000        0              0    0.000401436 
  123000        0              0    0.000401436 
  124000        0              0    0.000401436 
  125000        0              0    0.000401436 
  126000        0              0    0.000401436 
  127000        0              0    0.000401436 
  128000        0              0    0.000401436 
  129000        0              0    0.000401436 
  130000        0              0    0.000401436 
  131000        0              0    0.000401436 
  132000        0              0    0.000401436 
  133000        0              0    0.000401436 
  134000        0              0    0.000401436 
  135000        0              0    0.000401436 
  136000        0              0    0.000401436 
  137000        0              0    0.000401436 
  138000        0              0    0.000401436 
  139000        0              0    0.000401436 
  140000        0              0    0.000401436 
  141000        0              0    0.000401436 
  142000        0              0    0.000401436 
  143000        0              0    0.000401436 
  144000        0              0    0.000401436 
  145000        0              0    0.000401436 
  146000        0              0    0.000401436 
  147000        0              0    0.000401436 
  148000        0              0    0.000401436 
  149000        0              0    0.000401436 
  150000        0              0    0.000401436 
Loop time of 0.722327 on 8 procs for 149999 steps with 0 atoms, finish time Mon Jul 24 16:36:37 2023


Pair  time (%) = 0.0209823 (2.90482)
Neigh time (%) = 0 (0)
Comm  time (%) = 0.0174256 (2.41243)
Outpt time (%) = 0.00875191 (1.21163)
Other time (%) = 0.675167 (93.4711)

Nlocal:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
Nghost:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0

Total # of neighbors = 0
Neighbor list builds = 0
Dangerous builds = 0


# pull the stopper
unfix           stopper

run             30000
Setting up run at Mon Jul 24 16:36:37 2023

Memory usage per processor = 9.10199 Mbytes
    Step    Atoms         KinEng         Volume 
  150000        0              0    0.000401436 
  151000        0              0    0.000401436 
  152000        0              0    0.000401436 
  153000        0              0    0.000401436 
  154000        0              0    0.000401436 
  155000        0              0    0.000401436 
  156000        0              0    0.000401436 
  157000        0              0    0.000401436 
  158000        0              0    0.000401436 
  159000        0              0    0.000401436 
  160000        0              0    0.000401436 
  161000        0              0    0.000401436 
  162000        0              0    0.000401436 
  163000        0              0    0.000401436 
  164000        0              0    0.000401436 
  165000        0              0    0.000401436 
  166000        0              0    0.000401436 
  167000        0              0    0.000401436 
  168000        0              0    0.000401436 
  169000        0              0    0.000401436 
  170000        0              0    0.000401436 
  171000        0              0    0.000401436 
  172000        0              0    0.000401436 
  173000        0              0    0.000401436 
  174000        0              0    0.000401436 
  175000        0              0    0.000401436 
  176000        0              0    0.000401436 
  177000        0              0    0.000401436 
  178000        0              0    0.000401436 
  179000        0              0    0.000401436 
  180000        0              0    0.000401436 
Loop time of 0.137746 on 8 procs for 30000 steps with 0 atoms, finish time Mon Jul 24 16:36:37 2023


Pair  time (%) = 0.00407252 (2.95654)
Neigh time (%) = 0 (0)
Comm  time (%) = 0.00350385 (2.5437)
Outpt time (%) = 0.00172131 (1.24963)
Other time (%) = 0.128448 (93.2501)

Nlocal:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
Nghost:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0

Total # of neighbors = 0
Neighbor list builds = 0
Dangerous builds = 0
