LIGGGHTS (Version LIGGGHTS-PUBLIC 3.8.0, compiled 2022-06-21-18:54:20 by aerospacenerd, git commit unknown)
### Mass Wasting Event in uniform magnetic field using MDM


### Initialization
# Preliminaries
units           si
atom_style      sphere
atom_modify     map array
boundary        f p f
newton          off
communicate     single vel yes
#processors     2 2 3

# Declare domain
region          domain block -3.75 3.75 -1 1 0 10 units box
create_box      2 domain
Created orthogonal box = (-3.75 -1 0) to (3.75 1 10)
  2 by 1 by 2 MPI processor grid

# Neighbor listing
neighbor        0.003 bin
neigh_modify    delay 0


### Setup
# Material and interaction properties required
fix             m1 all property/global youngsModulus peratomtype 1.0e9 1.0e9
fix             m2 all property/global poissonsRatio peratomtype 0.278 0.278
fix             m3 all property/global coefficientRestitution peratomtypepair 2 0.2 0.2 0.2 0.2
fix             m4 all property/global coefficientFriction peratomtypepair 2 0.6 0.6 0.6 0.6
fix             m5 all property/global coefficientRollingFriction peratomtypepair  2 0.4 0.4 0.4 0.4
fix             m5 all property/global coefficientRollingViscousDamping peratomtypepair  2 0.4 0.4 0.4 0.4
fix             m6 all property/global coeffRollingStiffness scalar 10
fix             m7 all property/global cohesionEnergyDensity peratomtypepair 2 10 10 10 10

fix             m8 all property/global magneticSusceptibility peratomtype 1 1


# Particle insertion
fix             particles all particletemplate/sphere 123457 atom_type 1 density constant 7750                 radius constant 0.05
fix             pdd all particledistribution/discrete 49979687 1 particles 1.0
region          ins_geo block -3.75 0 -1 1 1 9.95 units box
fix             ins all insert/pack seed 32452843 distributiontemplate pdd insert_every once overlapcheck yes                 particles_in_region 70000 region ins_geo ntry_mc 10000

# wall the region
fix             wall all wall/region domain  lj93 1.0 1.0 2.5
# Create stopper wall
fix             stopper all wall/gran model hertz tangential history primitive type 2 xplane 0.0
# Define the physics
pair_style      gran model hertz tangential history
pair_coeff      * *


### Detailed settings
# Integrator
fix             integrate all nve/sphere

# Gravity
fix             grav all gravity 9.81 vector 0.0 0.0 -1.0

# Time step
timestep        .00001 #seconds

# Themodynamic output settings
# thermo_style    custom step atoms ke cpu
# thermo          1e9
# thermo_modify   norm no lost ignore

# Check time step and initialize dump file
fix             ctg all check/timestep/gran 1 0.01 0.01
run             1
Setting up run at Thu Jul  7 00:54:15 2022

INFO: Particle insertion ins: inserting every 0 steps
Memory usage per processor = 5.6087 Mbytes
    Step    Atoms         KinEng            CPU 
       0        0              0              0 
INFO: Particle insertion ins: inserted 39722 particle templates (mass 1.611875e+05) at step 1
 - a total of 39722 particle templates (mass 1.611875e+05) inserted so far.
WARNING: Particle insertion: Less insertions than requested (../fix_insert.cpp:814)
WARNING: time-step is 1.318719 % of rayleigh time (../fix_check_timestep_gran.cpp:200)
WARNING: time-step is 9.417463 % of hertz time (../fix_check_timestep_gran.cpp:208)
WARNING: time step too large or skin too small - particles may relatively travel a distance of 323.545825 per time-step, but skin is 0.003000 (../fix_check_timestep_gran.cpp:217)
WARNING: time step way too large - particles relativley move further than the minimum radius in one step (../fix_check_timestep_gran.cpp:226)
       1    39722  2.1111306e+17      1.5320299 
Loop time of 1.53204 on 4 procs for 1 steps with 39722 atoms, finish time Thu Jul  7 00:54:16 2022


Pair  time (%) = 0.00034777 (0.0226998)
Neigh time (%) = 0.00687496 (0.448745)
Comm  time (%) = 0.00119542 (0.0780276)
Outpt time (%) = 0.00031201 (0.0203656)
Other time (%) = 1.52331 (99.4302)

Nlocal:    9930.5 ave 21971 max 0 min
Histogram: 2 0 0 0 0 0 0 0 1 1
Nghost:    1334.5 ave 2371 max 464 min
Histogram: 2 0 0 0 0 0 0 1 0 1
Neighs:    2828 ave 6187 max 0 min
Histogram: 2 0 0 0 0 0 0 0 1 1

Total # of neighbors = 11312
Ave neighs/atom = 0.284779
Neighbor list builds = 1
Dangerous builds = 0
unfix           ctg

# Create imaging information
dump            dmp all custom 10000 post/dump*.liggghts id type x y z ix iy iz vx vy vz                 fx fy fz omegax omegay omegaz radius

### execution and further settings

# Fill the hopper
run             150000 upto
Setting up run at Thu Jul  7 00:54:16 2022

Memory usage per processor = 12.4965 Mbytes
    Step    Atoms         KinEng            CPU 
       1    39722  2.1111306e+17              0 
  150000    34441      30275.904      2042.8582 
Loop time of 2042.86 on 4 procs for 149999 steps with 34441 atoms, finish time Thu Jul  7 01:28:19 2022


Pair  time (%) = 307.314 (15.0433)
Neigh time (%) = 342.595 (16.7704)
Comm  time (%) = 101.305 (4.95896)
Outpt time (%) = 1.36139 (0.0666414)
Other time (%) = 1290.28 (63.1607)

Nlocal:    8610.25 ave 20295 max 22 min
Histogram: 2 0 0 0 0 0 1 0 0 1
Nghost:    430.5 ave 512 max 311 min
Histogram: 1 0 0 0 0 0 1 1 0 1
Neighs:    25771 ave 61917 max 0 min
Histogram: 2 0 0 0 0 1 0 0 0 1

Total # of neighbors = 103084
Ave neighs/atom = 2.99306
Neighbor list builds = 68974
Dangerous builds = 18867


# pull the stopper
unfix           stopper

run             30000
Setting up run at Thu Jul  7 01:28:19 2022

Memory usage per processor = 30.7721 Mbytes
    Step    Atoms         KinEng            CPU 
  150000    34441      30275.904              0 
  180000    34441       374636.7      227.13203 
Loop time of 227.132 on 4 procs for 30000 steps with 34441 atoms, finish time Thu Jul  7 01:32:06 2022


Pair  time (%) = 60.2892 (26.5437)
Neigh time (%) = 19.1608 (8.43596)
Comm  time (%) = 6.56044 (2.88838)
Outpt time (%) = 0.235077 (0.103498)
Other time (%) = 140.887 (62.0285)

Nlocal:    8610.25 ave 16319 max 1341 min
Histogram: 1 0 0 1 0 0 1 0 0 1
Nghost:    606 ave 855 max 356 min
Histogram: 1 0 0 0 1 1 0 0 0 1
Neighs:    23928.8 ave 46885 max 2954 min
Histogram: 1 0 1 0 0 0 1 0 0 1

Total # of neighbors = 95715
Ave neighs/atom = 2.7791
Neighbor list builds = 3971
Dangerous builds = 0
